(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{20:function(e,t,s){},26:function(e,t,s){},28:function(e,t,s){"use strict";s.r(t);var a=s(2),i=s.n(a),n=s(10),c=s.n(n),r=(s(20),s(11)),o=s(12),l=s(4),m=s(15),d=s(14),u=s(3),h=s(6),j=s(9),b=["user-top-read","user-read-currently-playing","user-read-playback-state"],p=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var s=t.split("=");e[s[0]]=decodeURIComponent(s[1])}return e}),{});window.location.hash="";var g=p,y=(s(26),s(0)),O=function(e){var t={backgroundImage:"url(".concat(e.item.album.images[0].url,")")},s={width:100*e.progress_ms/e.item.duration_ms+"%"};return Object(y.jsxs)("div",{className:"Player",children:[Object(y.jsx)("div",{className:"now-playing__img",children:Object(y.jsx)("img",{src:e.item.album.images[0].url})}),Object(y.jsxs)("div",{className:"now-playing__side",children:[Object(y.jsx)("div",{className:"now-playing__name",children:e.item.name}),Object(y.jsx)("div",{className:"now-playing__artist",children:e.item.artists[0].name}),Object(y.jsx)("div",{className:"progress",children:Object(y.jsx)("div",{className:"progress__bar",style:s})})]}),Object(y.jsx)("div",{className:"background",style:t})," "]})},f=s(13),_=function(e){Object(m.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0},is_playing:"Paused",progress_ms:0,no_data:!1},e.getCurrentlyPlaying=e.getCurrentlyPlaying.bind(Object(l.a)(e)),e.tick=e.tick.bind(Object(l.a)(e)),e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=g.access_token;t&&(this.setState({token:t}),this.getCurrentlyPlaying(t)),this.interval=setInterval((function(){return e.tick()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"tick",value:function(){this.state.token&&this.getCurrentlyPlaying(this.state.token)}},{key:"getCurrentlyPlaying",value:function(e){var t=this;f.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){e?t.setState({item:e.item,is_playing:e.is_playing,progress_ms:e.progress_ms,no_data:!1}):t.setState({no_data:!0})}})}},{key:"render",value:function(){return Object(y.jsxs)(a.Fragment,{children:[Object(y.jsxs)("div",{className:"navbar",children:[Object(y.jsx)("h2",{children:"Taylor Williamson"}),Object(y.jsxs)("a",{className:"menu-item",href:"https://github.com/tapdal2020",children:[Object(y.jsx)(u.a,{className:"icon",icon:h.a}),"Github"]}),Object(y.jsxs)("a",{className:"menu-item",href:"http://linkedin.com/in/taylor-williamson-2020",children:[Object(y.jsx)(u.a,{className:"icon",icon:h.b}),"LinkedIn"]}),Object(y.jsxs)("a",{className:"menu-item",href:"./assets/files/ResumeTaylor2021.pdf",children:[Object(y.jsx)(u.a,{className:"icon",icon:j.b}),"Resume"]}),Object(y.jsxs)("a",{className:"menu-item",href:"mailto:tawilliamson2020@gmail.com",children:[Object(y.jsx)(u.a,{className:"icon",icon:j.a}),"Email"]})]}),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsxs)("div",{className:"sidebar",children:[!this.state.token&&Object(y.jsxs)("a",{className:"login",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("80bd87927d7646ee80b09b1eda3a412f","&redirect_uri=").concat("http://localhost:3000/redirect/","&scope=").concat(b.join("%20"),"&response_type=token&show_dialog=true"),children:[Object(y.jsx)(u.a,{className:"icon",icon:h.c})," Login to Spotify"]}),this.state.token&&!this.state.no_data&&Object(y.jsx)(O,{item:this.state.item,is_playing:this.state.is_playing,progress_ms:this.state.progress_ms}),this.state.no_data&&Object(y.jsx)("p",{children:"You need to be playing a song on Spotify, for something to appear here."})]}),Object(y.jsx)("div",{className:"main",children:Object(y.jsx)("p",{children:"this is the main"})})]})]})}}]),s}(a.Component),v=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,29)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,n=t.getLCP,c=t.getTTFB;s(e),a(e),i(e),n(e),c(e)}))};c.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(_,{})}),document.getElementById("root")),v()}},[[28,1,2]]]);
//# sourceMappingURL=main.cb899990.chunk.js.map